# –î–∞–ª—å AI ‚Äî –ò–ò-—Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤

–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–¥–∞–∫—Ü–∏–æ–Ω–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–µ. –ù–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å –í–ª–∞–¥–∏–º–∏—Ä–∞ –î–∞–ª—è ‚Äî —Å–æ–∑–¥–∞—Ç–µ–ª—è ¬´–¢–æ–ª–∫–æ–≤–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è –∂–∏–≤–æ–≥–æ –≤–µ–ª–∏–∫–æ—Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞¬ª.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| ü§ñ **AI-–∞–Ω–∞–ª–∏–∑** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–¥–ø–æ–ª–∏—Ç–∏–∫–µ (GPT-4.1-mini) |
| ‚úçÔ∏è **Rich-text —Ä–µ–¥–∞–∫—Ç–æ—Ä** | –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π WYSIWYG –Ω–∞ –±–∞–∑–µ TipTap —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–∞–±–ª–∏—Ü, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Å—Å—ã–ª–æ–∫ |
| üé® **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∞–≤–æ–∫** | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä—è–º–æ –≤ —Ç–µ–∫—Å—Ç–µ |
| üîÑ **–†–µ—Ñ–∞–π–Ω –≤—ã–¥–µ–ª–µ–Ω–∏—è** | –í—ã–¥–µ–ª–∏—Ç–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç ‚Üí –ø–æ–ø—Ä–æ—Å–∏—Ç–µ AI –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å |
| üñºÔ∏è **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è alt-—Ç–µ–∫—Å—Ç–∞** | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è accessibility |
| üíæ **–ò—Å—Ç–æ—Ä–∏—è –∞–Ω–∞–ª–∏–∑–æ–≤** | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage / –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–¥–æ 30 –∑–∞–ø–∏—Å–µ–π) |
| üîê **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Å —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞—Ä–æ–ª–µ–π (bcrypt) |
| ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ Tone of Voice** | –§–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç—å, —ç–º–ø–∞—Ç–∏—è, —Å—Ç—Ä–æ–≥–æ—Å—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ |

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/novikov-denis/dalai.git
cd dalai
npm install
```

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
NEUROAPI_API_KEY=–≤–∞—à_–∫–ª—é—á_–æ—Ç_neuroapi
NEUROAPI_BASE_URL=https://neuroapi.host/v1
```

> ‚ö†Ô∏è **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏!** –§–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`.

### 3. –ó–∞–ø—É—Å–∫

```bash
npm run dev        # –°–µ—Ä–≤–µ—Ä + –∫–ª–∏–µ–Ω—Ç (dev-—Ä–µ–∂–∏–º)
```

–û—Ç–∫—Ä–æ–π—Ç–µ **http://localhost:5000**

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
dalai/
‚îú‚îÄ‚îÄ client/                  # React + Vite + TypeScript
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ rich-editor/ # TipTap —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ editor.tsx   # Markdown-—Ä–µ–¥–∞–∫—Ç–æ—Ä (legacy)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ suggestion-card.tsx
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ui/          # shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ       ‚îú‚îÄ‚îÄ lib/
‚îÇ       ‚îî‚îÄ‚îÄ pages/
‚îú‚îÄ‚îÄ server/                  # Express API
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts            # /api/analyze, /api/refine, /api/auth/*
‚îÇ   ‚îú‚îÄ‚îÄ storage.ts           # In-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ index-dev.ts
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îî‚îÄ‚îÄ schema.ts            # Zod-—Å—Ö–µ–º—ã + Drizzle ORM
‚îî‚îÄ‚îÄ public/
```

## üîß API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| `POST` | `/api/analyze` | –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–¥–ø–æ–ª–∏—Ç–∏–∫–µ |
| `POST` | `/api/refine` | –£—Ç–æ—á–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–π –ø—Ä–∞–≤–∫–∏ |
| `POST` | `/api/refine-selection` | –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç |
| `POST` | `/api/generate-alt` | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å alt-—Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è |
| `POST` | `/api/generate-alt-from-prompt` | Alt-—Ç–µ–∫—Å—Ç –ø–æ –ø—Ä–æ–º–ø—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `POST` | `/api/auth/register` | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è |
| `POST` | `/api/auth/login` | –í—Ö–æ–¥ |
| `GET`  | `/api/history` | –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∞–Ω–∞–ª–∏–∑–æ–≤ |
| `POST` | `/api/history` | –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–Ω–∞–ª–∏–∑ |
| `PATCH`| `/api/history/:id` | –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –∏—Å—Ç–æ—Ä–∏–∏ |

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ `/api/analyze`

```json
{
  "text": "–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —è–≤–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–∞ —Ä—ã–Ω–∫–µ!",
  "toneSettings": {
    "formality": "moderate",
    "empathy": "medium",
    "strictness": "strict"
  }
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞

```json
{
  "overall_analysis": "–¢–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–Ω—Ü–µ–ª—è—Ä–∏–∑–º—ã –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∫–ª–∏—à–µ.",
  "suggestions": [
    {
      "id": "1",
      "original": "–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª",
      "replacement": "–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è",
      "reason": "–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞",
      "type": "style",
      "status": "pending"
    },
    {
      "id": "2",
      "original": "—É–Ω–∏–∫–∞–ª—å–Ω—ã–º –Ω–∞ —Ä—ã–Ω–∫–µ",
      "replacement": "–ø–æ–ª–µ–∑–Ω—ã–º",
      "reason": "–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–æ–ª–æ—Å–ª–æ–≤–Ω—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π",
      "type": "policy",
      "status": "pending"
    }
  ]
}
```

## üìö –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ–¥–ø–æ–ª–∏—Ç–∏–∫–∏

AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–µ–∫—Å—Ç—ã –ø–æ 6 –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:

1. **–ß–µ—Å—Ç–Ω–æ—Å—Ç—å** ‚Äî –±–µ–∑ –æ–±–º–∞–Ω–∞ –∏ –∑–∞–≤—ã—à–µ–Ω–Ω—ã—Ö –æ–±–µ—â–∞–Ω–∏–π
2. **–°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ** ‚Äî –±–µ–∑ –≤–æ—Å—Ç–æ—Ä–≥–∞, –¥–∞–≤–ª–µ–Ω–∏—è –∏ –≤–æ—Å–∫–ª–∏—Ü–∞–Ω–∏–π
3. **–≠–º–ø–∞—Ç–∏—è** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —á–∏—Ç–∞—Ç–µ–ª—è, –±–µ–∑ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏–∏
4. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç—å** ‚Äî —ë–º–∫–æ –∏ –ø–æ –¥–µ–ª—É
5. **–ü–æ–Ω—è—Ç–Ω–æ—Å—Ç—å** ‚Äî —è–∑—ã–∫ –∞—É–¥–∏—Ç–æ—Ä–∏–∏, –±–µ–∑ –∫–∞–Ω—Ü–µ–ª—è—Ä–∏—Ç–∞
6. **–ü—Ä–∞–∫—Ç–∏—á–Ω–æ—Å—Ç—å** ‚Äî –ø—Ä–∏–º–µ—Ä—ã –≤–º–µ—Å—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

## üéØ –¢–∏–ø—ã –ø—Ä–∞–≤–æ–∫

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|----------|
| `style` | –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ (–∫–∞–Ω—Ü–µ–ª—è—Ä–∏–∑–º—ã, —à—Ç–∞–º–ø—ã) |
| `tone` | –¢–æ–Ω –∏ –≥–æ–ª–æ—Å (—Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, —ç–º–ø–∞—Ç–∏—è) |
| `grammar` | –ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ |
| `clarity` | –Ø—Å–Ω–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å |
| `policy` | –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ä–µ–¥–ø–æ–ª–∏—Ç–∏–∫–∏ |

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Frontend:**
- React 18 + TypeScript
- Vite 7
- TipTap (rich-text editor)
- Tailwind CSS 4 + shadcn/ui
- Framer Motion
- TanStack Query
- Wouter

**Backend:**
- Express
- Zod (–≤–∞–ª–∏–¥–∞—Ü–∏—è)
- bcrypt (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π)
- Drizzle ORM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è PostgreSQL)

## üì¶ –°–∫—Ä–∏–ø—Ç—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `npm run dev` | Dev-—Å–µ—Ä–≤–µ—Ä (client + server) |
| `npm run dev:client` | –¢–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç (–ø–æ—Ä—Ç 5000) |
| `npm run build` | Production —Å–±–æ—Ä–∫–∞ |
| `npm run start` | –ó–∞–ø—É—Å–∫ production |
| `npm run check` | –ü—Ä–æ–≤–µ—Ä–∫–∞ TypeScript |
| `npm run db:push` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ Drizzle |

## üé® –î–∏–∑–∞–π–Ω

- **–®—Ä–∏—Ñ—Ç—ã:** Serif –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, Sans –¥–ª—è —Ç–µ–∫—Å—Ç–∞
- **–ü–∞–ª–∏—Ç—Ä–∞:** –ö—Ä–µ–º–æ–≤—ã–π (#FDFBF7), —Å–µ–ø–∏—è, —è–Ω—Ç–∞—Ä–Ω—ã–π –∞–∫—Ü–µ–Ω—Ç
- **–ê–Ω–∏–º–∞—Ü–∏–∏:** Framer Motion

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

**–î–∞–ª—å AI** ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ —è–∑—ã–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∂–∏–≤—ã–º!
